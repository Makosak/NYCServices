<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            padding: 10px 30px;
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            width: 500px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0"></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass">
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="notifyText">Sorry, please try again.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/pbkdf2.js"></script>
    <script>
        /*! srcdoc-polyfill - v0.1.1 - 2013-03-01
        * http://github.com/jugglinmike/srcdoc-polyfill/
        * Copyright (c) 2013 Mike Pennisi; Licensed MIT */
        (function( window, document, undefined ) {
	
	        var idx, iframes;
	        var _srcDoc = window.srcDoc;
	        var isCompliant = !!("srcdoc" in document.createElement("iframe"));
	        var implementations = {
		        compliant: function( iframe, content ) {

			        if (content) {
				        iframe.setAttribute("srcdoc", content);
			        }
		        },
		        legacy: function( iframe, content ) {

			        var jsUrl;

			        if (!iframe || !iframe.getAttribute) {
				        return;
			        }

			        if (!content) {
				        content = iframe.getAttribute("srcdoc");
			        } else {
				        iframe.setAttribute("srcdoc", content);
			        }

			        if (content) {
				        // The value returned by a script-targeted URL will be used as
				        // the iFrame's content. Create such a URL which returns the
				        // iFrame element's `srcdoc` attribute.
				        jsUrl = "javascript: window.frameElement.getAttribute('srcdoc');";

				        iframe.setAttribute("src", jsUrl);

				        // Explicitly set the iFrame's window.location for
				        // compatability with IE9, which does not react to changes in
				        // the `src` attribute when it is a `javascript:` URL, for
				        // some reason
				        if (iframe.contentWindow) {
					        iframe.contentWindow.location = jsUrl;
				        }
			        }
		        }
	        };
	        var srcDoc = window.srcDoc = {
		        // Assume the best
		        set: implementations.compliant,
		        noConflict: function() {
			        window.srcDoc = _srcDoc;
			        return srcDoc;
		        }
	        };

	        // If the browser supports srcdoc, no shimming is necessary
	        if (isCompliant) {
		        return;
	        }

	        srcDoc.set = implementations.legacy;

	        // Automatically shim any iframes already present in the document
	        iframes = document.getElementsByTagName("iframe");
	        idx = iframes.length;

	        while (idx--) {
		        srcDoc.set( iframes[idx] );
	        }

        }( this, this.document ));
    </script>
    <script>
        var pl = {"salt":"bdoTMDC/QfrdenCvBwtBjuuJLlAAvOJAPVRxwaCJ0CQ=","iv":"s9G00/c4c0SShDNa6SXXHw==","data":"783KLtGzC8IukIQ5uv1ivdFoK85S9fHAoIRyHeBg6O3v8GET+DeLsD86dH/ERsWD0FU8N4G4uqpQtKN81z2GiAHWXHiSIC+vGPlDMH3LmQAyOTTOJywEiOBIpeRvhgkwudwVK9KMrfdX8hS9PmZ/ed5C6V5kJIb9uuGV9SFlkqIYdPXZ6dKopIw410SuGLwgFqDS8cLU2JfSuaO7fE+Q0TXPtI+ZtIerShXPVH9/O3KpKDJkwGAM4zrkQ5BlJ7a9kX3ysnRtJSdVwfSyZen+yMNCuEbYD/MpSBZUn8lEKSJmwSu//6HKC1QgDzQkxAVfdzvtLrna87fXawAeMUyZBm88yTY7FtBo9ira0UNZGzPHbtVPHs1UMFn5X1zbl9loo7OpRumQww64mrZ6NfQWsnM2huq2XO3SANjaryFpQAEieB/dXfVLDYiYsQK7zwsq24v/XucFZlU0poZfhPAgd569Q2F5HtFzuPjLP7YOwDMTpQuu8L5zFTuDlXidGzprA1yYr+RwkNrd/EpSh47UQnMk2vQZVqM7mIVx8vnoXyO+WjLaTv1AW0KKkFE2E827XIseql3kjzbHmPN5Ji90/OxBszMxEaByV/c5H+ZVub+yG0IQycuvz8fJe2rk+CZLRGodxMfGSw9dQor/WmdtxSr5RJ1+NGmX8aBRiQAl+g4jjKjRMc9jSlTG2MDDhY8swxAeE5m7fgwzbG9d/0CK2g5ljczth4WdAKJtbAeUvgXmsB/6hPdEreVX5NhcwSj/hxTJ/Pps3OxM8SjsRE79R79JJ0H6eVSGkT6fIb9RaNplPZezyovKgotV2ZBCAVfRwVMdwBSaG28V4ggp3I4VD/8e3hZiXj3u8OlQgwnGgpq+SabohLm94HT8Vmvma39AGEW0NVu8U/1EmAueCftFQzahjVcpGt1mhNIAjnk3sgei9LzpjaukylpsfDUcjIUZDwpJaxYeSVrj9F8uktmUg1DDog3JQmE7R22dTo7TgyDCa57XLef+6lIRSENJVerkxzIh56z+3It7buDFipdifNVgVakl35iBrnwSaXH8awIW8yAZr1eYK37OQZPHyDsoYZW3WpIfVrsLWyjHTkBgm33B44wGmaTf0Q3dw1eBm4veuemCZwEZhWMfEz1qEyKscTD8ziJeKLiWELmGnIHBoFHWeV5v3u+IaD17UmuNuDslAlvyFbaybrOiiL69FwV/tLkDO3ioyMkbJqBRIALiAJBdQSsLDLh9k1xe9Y1TpGgFsxmHqRdrUTlm8sOqZX6JSiXP7rpyflzE8D2pDcr87H3VZ9SZuUMFcBYXzpyJ8Y7ij8S6QeSlTrze1n8vCA3t1U9YC1WwDi5bVI0ELuxbtO8nsjDr7hWFcRIcnbH0l0vW4an3iITftvY4loYLk6WOMSrhX9S8u77kIdr1RVhoCYfwVMFe42QpkD6MPCsyOPZ2HpfwdcPK/ncMXnpJkIhwJpGgR+LG3Hc6k8m1xnoJOI5KnZbhgDrFr0OVashKXOZjiE4kqviFHj/4ZIQ8SSFJUUCx1dzH0eq4WANYi+yO2SPOD64FoaPLimoX562ckczVSpzGb2rII31uKMRupcuCCOoN8KZrsTyxhaJ3mXuhqaQHWkEwwpBZbj2u6sAbXv3ceghQyDoA7Z2CADBUGvpykHRq1o/vUlZrtR/h7xL0/UjM23tcjjPjcn4sBty9d/kHcHAjtQ4xBvEKOH1kaOii7bvV+Y6AONMokFtQSm3t6PnYs+qN+Yfce1k+ZUxf8vM8dswk70TPz+EK/Ggp/FETUEgW3PEDLK8FtWDFNri8JDC6jTaA7ke/2ydMI+nUvaVltePWD/k254QV/ca0k9D+MaC/b6wBZ7IB15q3QPIhgkAhAR6eQ4VRdBdMo9mKiJ908t+vTlOajkKZLsW1MCNJSZ6QESTs88pfI/SemLsw8vWh8GWS/wMxrHz8k7M68R5k8uedfJaf50ebh1T42u4VxGawo0DXzGW9NYTxb2pWB8h4zFxIK0fXvu6YW8pZCidLXj8kjuWtu+sKJHY/kiwuJuwW0rr4rlJ2f5tUm9dVwjdO0sp89uiRwflp36pzty/0FDF+Q51Yvf+Y6J+Lgi5BmSK6ilL/EDeeve/4AGPtXalxwh36NFsncmuJrPEScDyWHtRiYB8SUqw4CaObWyvkMlfFk5SVop1V4irOlzZXLFGLnsdo8YrsPerrBL800acVkVx+03UG7XDLLFn3/TOIxiQHZn3mn1zhnD2POOQxjO/a2WGLjpBlzqizj/k2W896ET6tFjHGskvzVw/LwCbJyiE3PT5fh6+QCTeUlpDLQpj0cMx/R+p4gw8u6N1s4Uy04pFvr4yD/Te0k9FuW8Jgeg+GDCjJdnmrTLxoqHBcO/19O/t1/oOgwrZZkIMFWk+oYqwZosVpQVG4jqpwpbh6kGW3Mat/MIUuZvr5lZkm4JDk/1m+ERQgR/M17QxIjT6et7keCgDlPPAmdS5lJOshZDnhIJmZS+fsP8VucrOhfzjqIDxt9+FbgxqtxbxrpW92t8mlMM/gc5jn4AG4MMpsSaBiNTU/GUJEqEBxu6KXGrIVuu+ocoYgXQltAVR8YM+zWFnZ69VTBThk587qWmXQr8AZkd93DU0oqiN7AlH+g5nzkshE9ZVA0haGap3918eMXFTaTngYuvloPzKmcuuJdrv7ytddgGzeqrUprz1PTuvFKku+fTyWK6IdFOdTE47E9rcEVHdDRhgXpl7NanICWTO8A1f3NvBZv2tnFlW5JQQOZISwYZni7+oUW2njCEYipHfJeclCd1ovqca5VGTR9vVIfRh7GQkVHaXTTTDYTMBQ2mDotwcyuTNdVwONcvIHUlfwSQHAoYizVxnQvomPMk2GQtwKhrEhVxDEBAKjNoUp7yAWq5luVBmt/nSsX0aUBjSBMkrA0NmMnIS4S3f1b73vwc7HGhFftFmnnMYsnkCs6/OrYBtLlj7nsqZeiIp0V9/zM0rHAbT2/QeyDqWqhZCj2ZYMvYYhtissS1oMmzrX2fId/hfzCWo0eQMMHHQxSyYGUOL/YHZ/Pczm2MtPhyStj5hyD1BKgw/qIt14nqXIvkeEv0lQWBZn4kOQqDjr6zZ/0alKm7NoPS1mXX+8ZfErn6Qhz9X8KkaQTW7WZWe5tTo8Weqq+ARMgZFbmGMBvkFxPAtSKcWAnoh2/UpNytdxG5Q9A3tlvhHD99Fi0xy2xJFBrgblvyXsKL3ewUbZk0u8rSFPyuUGWvJH8iVUiJ3Z4JTue8goTedhephA1L5wt+Z7aP/0Ys0yu7qWcW0dILdxIcVbKWCwrfy333oTtozsvzqFVn525ijWvuWvWySVNu8YCQFBDp4tICNhgedk1PHwYVmKyZ0+pz3LcAIYR/cdjjeQVsN9Rm+q8044To0X9bWJCzcLiovUP8jbohJQj9IU4vFK2AQhoVgLSL6mGhljjFAkVuHo3WiwZ/WrJFAP0RFC4j7FOY2FxGKntqMfSI/RqJR7qBNG0Da0lt1pczzOoTpSzPC7FmqrdCOIOSqy4PlXDbBBYkanPOJCFEd37cpwkTuYryf4PVElDf1EdSvJOQLwF6A+9v3iNDPVmOBwZ55TTK1zOH4xkBHB499VTHFYz99J9rwbhGar4FlXuKUE8keSJkk7AVGTGgFQRyohT34ElUDP+N4QRjRWu/77cXcZa1yAQyItlbmH1Hf50c6xl07wV9o6qQFi2IdKY3so1Hls2tjXUjvNRFbIBuNh35s/Y5O/a79T8jaCTpOmMHGQrF3d5Yxu0sBsKEE2qU/RNZwlrEugc2kW2mTDKUmtXu9rN3CdU1wc5Y4lIcz60J5jJylQwLq74ix46IaIDUtz5VwBsUuAb6w8wS1qgixnDVQ02jW9ewlM6Rycdp7XH1d+I9PPoCXD9iPQW17k5oB/tYwUJF02cPno2KHpZ83BCHphW556KIId8+eqbx7f+vUh5CmOEcd+3VcbzSUHVoLudhyePcuOM+l+/X8E7MXewNT7HW1PsCrt8Z1w5KO+BZ597+2mEwwb3aPT/YLS6Ex0A3GNEjM4FE4b9AImval340MKwZsS4R0HFi54iYZ0NvA1dEmH+NxDZwXRQaaATDLpuQozuI+ocvdOvZ1T04CsY7Arwen5K1TGQeA9y6lwDKBnwMtEAspt+OywqqbqA63SsfP7rMIfyLB/kAgMbgtO7Pv1Pc4xRo2pR+9L2ZnkWHdJxr/504zTPCEe/La4LKR645EC//9XMwCS1Gu8bkfSl3yKm82VTXLtZ8bYuPMCnjDciebdytvL0s6KxW/JVKakbHYLmXGhEh4M2UKEDBAUHg4TPIrpJwqPnGnAnGAoAcujxjnSH25d96QEtB5NCtbe9g1OQDQS19tSbDmYLkHPIQ50tNwQ54vB2A//uvVshmEoeULUM/iNGth850dy0vytq5FDE8g8HcDCYoP55VqsdgKWtcJk6iVhUKI60rbm6oqzoRCT8p1H46B9avNqCw8Y/VRsDVGzWEFeo3jiCbOuMWzleVnMzG5cXVULWKbGTXZF0LWPbqIG4XzpprGqhtKU+BHwrcoEA6B1CFlj/rXJ/wEzLJFp+/PtYdvAYnCv7uGpR3YwKEkT74LnUMsv08BtrxhAA1/dklvqWr+8K4U9zXN4S4e65f4BcRNg4pZI/E2WFFhY/LU225swZ57pxQbvBCifVfosPkPz09VtuRRPDm1jqLJQF8wPvg/1qoUUPLw76gm/wfi57jsofLKxCkP65oIW+JyftJPCfSryeUrHqokextIxGl2iXBONd86tJQ4oo1FwSSc11MdftbQMNdG3hxlz2AnRkxGLgqI4bw1lph6IBD8X66e8jHVEf0X2mrRhVe6DP8Enl+KEMxDaYCBxs1miv0aOi6iKIKXwcm0wvuEF+uj1i60yvinvxn0dJ1f94DK3bi74Q1W/5SelMYqyOiVCxdan6rZukYU2hfrdn42uOHDSl8fmAO7vNxDCebKqLY1Xm0tihhKxAJ1G+3Oq+0k4nmhNfB5wpdl+OrRv3xacONjfk9+LUOA1/jKXw4mO1In3pSJkRRGQICY+PMV6NJhmldipcyQmxvvj+Dnqc/vonvuev5RiFoqWG0RC3aqRuBXcTrxqh669ASwduXhp4woL5DJcG1mhjqwPcge23QL/5E5zGXsIuu36JswNPE21InioJJ/ZnqL63FUM0pSOmS01DPSblizuU2tHrXx+U5OpWZtU+/QDrl3pFQISOZG7swNbh+GJEFSGpV9+4ilNgnYLIbjdgKcyjp1M5+ifR9DqrniP4MccdFlYIvV4My+I4BXQBOfGpr8eThXeJuD0mOvM+n5znir/tRlLgAvHH5X+jIQlSkEZpD84VQNGzj1H8HcrPgyKYdsGeFPnaNnsMsNBUNzWdGSB887rszfrA/3stPVCwIOJpapxtFPgNQCLzOD45Xo0IquHrQJT8rAY/AgzETqhD/082pKz3bJa+/oW0Rli6+c/813y5Q+oRSAFfuIorVOP4XMkkAPGmrKEL7vhaVydRz5LZcQeTlpjflAgaScY47sCeF/UJSVd+COzGG1jPmkLqNKc9olQLz6DQ8ovXqodoeQVh40ZLAZgqxzbUpTlva+V+//l2X5kVxjUzRG5tNsCrKZkVjFy7Rg1yp6xneIPGrnWNkvpsrWNh++IrV86EFOeadtipFTncRYhOg8cj3JU0RbaFHuEqLLg0YmgFwyDHUbpfnHFzuwqZBsyqfxMYkov0iDZSk+tBt/njEzdrkvvA7CuCI6rBohUrm5VDSsTADit/lmV4dYblG+ZkhdyZwaRb7r7klLsQWol60Vzj4w8XQLTWIZoIFZQs+zNp7z8fhS5A+gmRYfJGhmIFvfjsntbpUNSAdSQAxeo8EHPwtGzDMx4/zsW18Xh+Kwl5NlvPQjI6Vs/lSbMMuGxAs7FmwM4nZ3WaBsS5d8Rvgg/Rxwc40SNLWpp9lMWYUO6O9SEZD1+fT1wy+0Mks12RFRbtRjHWPRgHDWAUKtRZtAFW0JXPp48hG9HAbQeSeKEyg7aJGPJiQgFkzeymJ0DIWOsECjOg+sWO+7f64TCJ0mgDEOwyzH+71bvPCSrq6a0krLtTin/62nxLMmO38bJVSH3P5oCtmlpyG8yczZ9H7PYEnbDK+NkXvkS5l6rAH3RvpU6SLz1MUp5x6EJTCe2JERaZNt1P1W3JmCnsZTXZ7GmcwdmfMoxp4//27dfg+nuThvsu6AfLK41eVN1B4PJrU8eiyUefDhdpxL3RvsbKx2Z0qut4azo0LzodlJQEIW4ZaGkLZd4sYOb/255vl9mr9l+B6B3fmLBTn1tSxRF7NFIB6uI5t3CozGdnJVV71Ngt2qhXepaQtRgG+4XDYLL6jaKDYrKY6bR/l4yWo+obtT6R0T/JH7P+yiA5LY+K+k4e2tfvw6K3rzNzHd5GqLJu83KMbvvuMNBaEL2YsN4Dk5VDVcGu5Vr9T/ApNMUbUcwcqzgahxDt7ULhEGQRTMU4KLwWxGcizDjSKUSRC3WsWt/TWuG/FaHZznLdoCn2/tfLb1L0QYpxNxyDLvir0dRmz5Wcw/lz7wiEvOJFf0N6mE6iKhMqyhLyrPt0CecG6YSbeJFQuEIpeNpqUxsB9gmZPgtVPVqf9fVdjE8EIf7cXFDFcWIC2l+Se1LbA=="};
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
        }
        
        function doSubmit(evt) {
            try {
                var decrypted = decryptFile(CryptoJS.enc.Base64.parse(pl.data), passEl.value, CryptoJS.enc.Base64.parse(pl.salt), CryptoJS.enc.Base64.parse(pl.iv));
                if (decrypted === "") throw "No data returned";
                
                // Set default iframe link targets to _top so all links break out of the iframe
                decrypted = decrypted.replace("<head>", "<head><base href=\".\" target=\"_top\">");
                
                srcDoc.set(contentFrame, decrypted);
                
                successEl.style.display = "inline";
                passEl.disabled = true;
                submitPass.disabled = true;
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
        
        function decryptFile(contents, password, salt, iv) {
            var _cp = CryptoJS.lib.CipherParams.create({
                ciphertext: contents
            });
            var key = CryptoJS.PBKDF2(password, salt, { keySize: 256/32, iterations: 100 });
            var decrypted = CryptoJS.AES.decrypt(_cp, key, {iv: iv});
            
            return decrypted.toString(CryptoJS.enc.Utf8);
        }
    </script>
  </body>
</html>
